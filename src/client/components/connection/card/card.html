<template>
    <div class="card-container">
        <div class="card-header" onclick={handleCardHeaderClick}>
            <div class="card-header-left">
                <lightning-icon icon-name={buttonIcon} class="slds-button__icon_left expand-button" size="xx-small"></lightning-icon>
                <span class="slds-text-heading_medium">{title}</span>
            </div>
            <div class="card-header-right">
                <template lwc:if={isOpenFormatted}>
                    <lightning-button-menu menu-alignment="auto" icon-name="utility:settings" icon-size="small" alternative-text="Show menu" variant="border-filled" onclick={dummyCardMenuClick}>
                        <lightning-menu-item value="MenuItemOne" label="Menu Item One"></lightning-menu-item>
                        <lightning-menu-item value="MenuItemTwo" label="Menu Item Two"></lightning-menu-item>
                        <lightning-menu-item value="MenuItemThree" label="Menu Item Three"></lightning-menu-item>
                        <lightning-menu-item value="MenuItemFour" label="Menu Item Four"></lightning-menu-item>
                    </lightning-button-menu>
                </template>
                <template lwc:else>
                    {itemMessage}
                </template>
            </div>
            
        </div>
        <template lwc:if={isOpenFormatted}>
            <div class="slds-has-divider_top-space"></div>
        </template>
        <!-- Items -->
        <div class={cardItemsClass}>
            <template for:each={items} for:item="subItem">
                <connection-card-item key={subItem.id} item={subItem}></connection-card-item>
            </template>
        </div>
    </div>
</template>