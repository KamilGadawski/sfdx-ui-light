<template>
    <lightning-modal-header label="Import Org Credentials"></lightning-modal-header>
    <lightning-modal-body >
        <slds-file-uploader lwc:ref="uploader" onfilechange={handleFileChange} type-list="['application/json']" is-modal>
            <section class="slds-p-around_large min-height-400">
                <div class="slds-center-container">
                    
                    <template lwc:if={isResultDisplayed}>
                        <lightning-dual-listbox name="newconnection"
                            label="Select Credentials to import"
                            source-label="Existing Credential"
                            selected-label="New Credential (Upsert)"
                            field-level-help="Select credential to overwrite"
                            options={options}
                            value={list_new}
                            onchange={handleDualListChange}
                        ></lightning-dual-listbox>
                    </template>
                    <template lwc:else>
                        <div style="text-align: center;">
                            <lightning-input type="file" label="Upload Org Credentials" accept=".json" onchange={inputChange}></lightning-input>
                        </div>
                    </template>
                </div>
            </section>
        </slds-file-uploader>
    </lightning-modal-body>
    <lightning-modal-footer>
        <lightning-button
                class="slds-float_left slds-button"
                disabled={saveInProcess}
                variant="neutral"
                label="Cancel"
                onclick={handleCloseClick}
        ></lightning-button>
        <lightning-button
                class="slds-button"
                disabled={saveInProcess}
                variant="brand"
                label="Import"
                onclick={handleSaveClick}
        ></lightning-button>
    </lightning-modal-footer>
</template>