<template>
    <div class={pageClass}>
        <builder-editor>
            <!-- Header -->
            <builder-header slot="header" title="Tools" sub-title="Einstein Assistant" icon-name="standard:story">
                <p slot="meta" class="slds-page-header__meta-text">
                    This feature is still under development using EinsteinGTP3.5 You might face issues when using it ! (You need to have Einstein GPT Enabled in your Org)
               </p>
            </builder-header>
            <!-- Body -->
            <article class="full-page-body slds-card">
                <div class="slds-is-relative slds-full-width slds-full-height slds-flex-column" style="min-height:200px;">
                
                    <!-- Tabs -->
                    <slds-tabset variant="scoped" class="slds-without-tab" active-tab-value={currentTab} onaddtab={handleAddTab} onclosetab={handleCloseTab} is-add-tab-enabled is-remove-tab-event-disabled>
                        <template for:each={formattedTabs} for:item="item">
                            <slds-tab key={item.id} label={item.name} value={item.id} onactive={handleSelectTab} is-closeable={item.isCloseable} is-draft={item.isDraft}></slds-tab>
                        </template>
                    </slds-tabset>
                    <!-- Dialogs -->
                    <assistant-dialog class="slds-fill-height slds-flex-column" application-name={applicationName}></assistant-dialog>
            
                    <template lwc:if={isLoading}>
                        <lightning-spinner alternative-text="Loading"></lightning-spinner>
                    </template>

                </div>
            </article>
            
        </builder-editor>
    </div>
</template>