<template>
    <div class={pageClass}>
        <div class="full-page-header slds-page-header slds-page-header_joined">
            <div class="slds-page-header__row">
                <div class="slds-page-header__col-title">
                    <div class="slds-media">
                        <div class="slds-media__figure">
                            <lightning-icon icon-name="standard:bundle_config"></lightning-icon>
                        </div>
                        <div class="slds-media__body">
                            <div class="slds-page-header__name">
                                <div class="slds-page-header__name-title">
                                    <h1>
                                        <span>Metadata Explorer</span>
                                        <span class="slds-page-header__title slds-truncate" title="Metadata Explorer">Metadata Explorer</span>
                                    </h1>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="slds-page-header__col-actions slds-align-middle slds-p-bottom_none">
                    <div class="slds-page-header__controls">
                        <div class="slds-page-header__control">
                            <!-- actions -->
                            <lightning-button-group>
                                <!--<lightning-button icon-name="utility:adduser" disabled={isLoading} onclick={adduser_handleClick} label="Select Users"></lightning-button>-->
                                <lightning-button icon-name="utility:link"  disabled={isLoading} onclick={goToMetadata} label="Apex" data-name="ApexClass"></lightning-button>
                                <lightning-button icon-name="utility:link"  disabled={isLoading} onclick={goToMetadata} label="LWC" data-name="LightningComponentBundle"></lightning-button>
                                <lightning-button icon-name="utility:link"  disabled={isLoading} onclick={goToMetadata} label="Aura" data-name="AuraDefinitionBundle"></lightning-button>

                            </lightning-button-group>
                        </div>
                    </div>
                </div>
            </div>
            <div class="slds-page-header__row slds-page-header__row_gutters">
                <div class="slds-page-header__col-details">
                    <div class="slds-page-header__detail-row slds-is-relative" style="display:block; ">
                        <!-- Display Info -->
                        <h2>Currently only supporting certains types : Apex, LWC, Aura, Trigger, Visualforce</h2>
                    </div>
                </div>
            </div>
        </div>
        <article class="full-page-body slds-card slds-m-top_small">
            <div class="slds-card__body slds-card__body_inner">
                <div class="slds-full-height slds-grid slds-gutters_direct slds-wrap slds-is-relative" style="min-height:200px;">
                    <!-- Container -->
                        
                    <div class="slds-flex-column slds-full-height slds-col slds-col slds-size_1-of-4 slds-border-right">
                        <!-- Metadata List -->
                        <slds-menu class="slds-flex-column slds-full-height"
                            items={menuItems}
                            title={menuBackTitle}
                            is-back-displayed={isBackDisplayed}
                            onmenuselection={handleMenuSelection}
                            onback={handleMenuBack}
                            level={currentLevel}
                            is-loading={isLoading}
                        ></slds-menu>
                        <!-- Metadata Details -->
                    </div>
                    <div class="slds-flex-column slds-full-height slds-col slds-col slds-size_3-of-4">
                        <editor-app lwc:ref="editor" class={editorClass}></editor-app>
                        <!--<div class="slds-scrollable_y">
                            <template lwc:if={isRecordDisplayed}>
                                <metadata-code-viewer></metadata-code-viewer>
                                <div lwc:dom="manual" lwc:ref="container"></div>
                            </template>
                        </div>
                        -->
                    </div>
                </div>
            </div>
        </article>
    </div>
</template>