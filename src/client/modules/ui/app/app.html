<template>
     
    <!-- Header -->
    <ui-header 
        current-application-name="Org"
        current-tab-name="Home"
        applications={applications}
        onnewapp={handleNewApp}
        ontabchange={handleTabChange}
        ontabdelete={handleTabDelete}
        is-user-logged-in={isUserLoggedIn}
    >
        <!-- Logged In User-->
        <template lwc:if={isUserLoggedIn}>
            <ui-notify>
                <span class="slds-icon_container slds-icon-utility-user slds-m-right_x-small" title="Description of icon when needed">
                    <svg class="slds-icon slds-icon_x-small" aria-hidden="true">
                        <use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#user"></use>
                    </svg>
                </span>
                <h2>
                    {loggedInMessage}
                    <template lwc:if={isLogoutDisplayed}>
                        <a href="#" onclick={handleLogout}>Log out</a>
                    </template>
                </h2>
            </ui-notify>
        </template>
    </ui-header>

    <!-- Page -->
    <div class={dynamicAppContainerClass}>
        <section class="slds-full-height section">
            <div class="slds-full-height container" onlogin={handleLogin} onopenapplication={handleOpenApplication}>
                <!-- [Electron only] SFDX Installation required  -->
                <template lwc:if={isSFDXMissing}>
                    <ui-information-block title="CLI Missing" variant="error">
                        <p>You need to install the SFDX/SF CLI before being able to use this app. <a href="https://developer.salesforce.com/tools/salesforcecli">https://developer.salesforce.com/tools/salesforcecli</a></p>
                    </ui-information-block>
                </template>
                <!-- Feature - Start -->
                <template for:each={applications} for:item="application">
                    <div key={application.id} class={application.classVisibility}>
                        <template lwc:if={application.isFullHeight}>
                            <lwc:component  lwc:is={application.constructor} lwc:spread={application.attributes}></lwc:component>
                        </template>
                        <template lwc:else>
                            <div class="slds-scrollable_y slds-p-around_small">
                                <lwc:component  lwc:is={application.constructor} lwc:spread={application.attributes}></lwc:component>
                            </div>
                        </template>
                        
                    </div>
                </template>
                <!-- Feature - End -->
            </div>
        </section>
    </div>

    
</template>