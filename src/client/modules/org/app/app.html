<template>
    <div class="slds-page-header slds-page-header_joined">
        <div class="slds-page-header__row">
            <div class="slds-page-header__col-title">
                <div class="slds-media">
                    <div class="slds-media__figure">
                        <lightning-icon icon-name="standard:user"></lightning-icon>
                    </div>
                    <div class="slds-media__body">
                        <div class="slds-page-header__name">
                            <div class="slds-page-header__name-title">
                                <h1>
                                    <span>Org Overview</span>
                                    <span class="slds-page-header__title slds-truncate" title="System Overview Dashboard">System Overview Dashboard</span>
                                </h1>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="slds-page-header__col-actions slds-align-middle slds-p-bottom_none">
                <div class="slds-page-header__controls">
                    <div class="slds-page-header__control">
                        <!-- actions -->
                    </div>
                </div>
            </div>
        </div>
        <div class="slds-page-header__row slds-page-header__row_gutters">
            <div class="slds-page-header__col-details">
                <div class="slds-page-header__detail-row slds-is-relative" style="display:block; ">
                    <!-- Display dashboard Info -->
                    
                </div>
            </div>
        </div>
    </div>

    <!-- DASHBOARD -->
    <div class="slds-grid slds-gutters slds-wrap">

        <!-- SECTION -->
        <div class="slds-col slds-col slds-size_1-of-1 slds-large-size_1-of-2">
            <article class="slds-card slds-m-top_small">
                <div class="slds-card__header slds-grid">
                    <header class="slds-media slds-media_center slds-has-flexi-truncate">
                        <div class="slds-media__body">
                            <h2 class="slds-card__header-title">
                                <a href="#" class="slds-card__header-link slds-truncate" title="General Information">
                                    <span>General Information</span>
                                </a>
                            </h2>
                        </div>
                    </header>
                </div>
                <div class="slds-card__body slds-card__body_inner">
                    <div class="slds-grid slds-gutters slds-wrap">
                        <div class="slds-col slds-col slds-size_1-of-1 slds-large-size_1-of-2">
                            <lightning-tile label="Company Information">
                                <dl class="slds-dl_horizontal">
                                    <dt class="slds-dl_horizontal__label">
                                        <p class="slds-truncate" title="Name">Name:</p>
                                    </dt>
                                    <dd class="slds-dl_horizontal__detail slds-tile__meta">
                                        <p class="slds-truncate" title={orgInformation.Name}>{orgInformation.Name}</p>
                                    </dd>
                                    <dt class="slds-dl_horizontal__label">
                                        <p class="slds-truncate" title="Organization Type">Organization Type:</p>
                                    </dt>
                                    <dd class="slds-dl_horizontal__detail slds-tile__meta">
                                        <p class="slds-truncate" title={orgInformation.OrganizationType}>{orgInformation.OrganizationType}</p>
                                    </dd>
                                    <dt class="slds-dl_horizontal__label">
                                        <p class="slds-truncate" title="Created Date">Created Date:</p>
                                    </dt>
                                    <dd class="slds-dl_horizontal__detail slds-tile__meta">
                                        <p class="slds-truncate" title={orgInformation.CreatedDate}>{orgInformation.CreatedDate}</p>
                                    </dd>
                                </dl>
                            </lightning-tile>
                        </div>
                        <div class="slds-col slds-col slds-size_1-of-1 slds-large-size_1-of-2">
                            <lightning-tile label="Org Information">
                                <dl class="slds-dl_horizontal">
                                    <dt class="slds-dl_horizontal__label">
                                        <p class="slds-truncate" title="Is Sandbox">Is Sandbox:</p>
                                    </dt>
                                    <dd class="slds-dl_horizontal__detail slds-tile__meta">
                                        <p class="slds-truncate" title={orgInformation.IsSandbox}>
                                            <lightning-input type="checkbox" label="IsSandbox" variant="label-hidden" checked={orgInformation.IsSandbox} disabled></lightning-input>
                                        </p>
                                    </dd>
                                    <dt class="slds-dl_horizontal__label">
                                        <p class="slds-truncate" title="Language">Language:</p>
                                    </dt>
                                    <dd class="slds-dl_horizontal__detail slds-tile__meta">
                                        <p class="slds-truncate" title={orgInformation.LanguageLocaleKey}>{orgInformation.LanguageLocaleKey}</p>
                                    </dd>
                                    <dt class="slds-dl_horizontal__label">
                                        <p class="slds-truncate" title="Timezone">Timezone:</p>
                                    </dt>
                                    <dd class="slds-dl_horizontal__detail slds-tile__meta">
                                        <p class="slds-truncate" title={orgInformation.TimeZoneSidKey}>{orgInformation.TimeZoneSidKey}</p>
                                    </dd>
                                </dl>
                            </lightning-tile>
                        </div>
                    </div>
                    
                </div>
            </article>
        </div>

        <!-- SECTION -->
        <div class="slds-col slds-col slds-size_1-of-1 slds-large-size_1-of-2">
            <org-users connector={connector}></org-users>
        </div>

        <!-- SECTION -->
        <div class="slds-col slds-col slds-size_1-of-1 slds-large-size_1-of-2">
            <article class="slds-card slds-m-top_small">
                <div class="slds-card__header slds-grid">
                    <header class="slds-media slds-media_center slds-has-flexi-truncate">
                        <div class="slds-media__body">
                            <h2 class="slds-card__header-title">
                                <a href="#" class="slds-card__header-link slds-truncate" title="Sytem Limits">
                                    <span>Sytem Limits</span>
                                </a>
                            </h2>
                        </div>
                        <div class="slds-no-flex">
                            <lightning-button-stateful
                                label-when-off="Filter Limits"
                                label-when-on="Filtering Limits."
                                label-when-hover="Un-Filter Limits."
                                icon-name-when-off="utility:filterList"
                                icon-name-when-on="utility:filterList"
                                icon-name-when-hover="utility:close"
                                selected={isFilterting_limits}
                                onclick={filtering_limits_handleClick}
                                variant={filtering_limits_variants}
                            >
                            </lightning-button-stateful>
                        </div>                    
                    </header>
                </div>
                <div class="slds-card__body slds-card__body_inner">
                    <lightning-tile label="Org Information">
                        <div class="slds-scrollable_y" style="max-height:450px;">
                            <template for:each={formattedLimits} for:item="item">
                                <dl class="slds-dl_horizontal" key={item.name}>
                                    <dt class="slds-dl_horizontal__label">
                                        <p class="slds-truncate" title={item.label}>{item.label}</p>
                                    </dt>
                                    <dd class="slds-dl_horizontal__detail slds-tile__meta">
                                        <p class="slds-truncate">{item.Remaining} / <Strong>{item.Max}</Strong></p>
                                    </dd>
                                </dl>
                            </template>
                        </div>
                    </lightning-tile>
                </div>
            </article>
        </div>

        <!-- SECTION -->
        <div class="slds-col slds-col slds-size_1-of-1 slds-large-size_1-of-2">
            <org-utilization connector={connector}></org-utilization>
        </div>
    </div>
</template>