<!-- $layoutsDir/main.html -->
<!DOCTYPE html>
<html>
    <head>
        <title>SF Toolkit</title>
        <link rel="icon" type="image/x-icon" href="/favicon.ico">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="$stylesDir/tabulator.min.css">
        <link rel="stylesheet" href="$stylesDir/dashboard.css">
        <link rel="stylesheet" href="$stylesDir/highlight.css">
        <link rel="stylesheet" href="$stylesDir/prism.css">
        <link rel="stylesheet" href="$assetsDir/styles/salesforce-lightning-design-system.min.css" />
        <link rel="stylesheet" href="/xterm.css"/>
        <style>
            @font-face {
                font-family: 'seti';
                /* Replace myFont with your resource name */
                src: url('/styles/seti.hash.woff') format('woff');
            }

            .slds-form-element_stacked .slds-grid {
                display:-webkit-box !important;
            }

            .slds-color-brand{
                color:rgb(7, 87, 133);
            }

            .slds-color-orange-dark{
                color:rgb(133, 74, 7);
            }

            .slds-color-orange-light{
                color:rgb(217, 127, 24);
            }

            .slds-card-grey{
                background-color:var(--slds-g-color-neutral-base-95,#f3f3f3);
            }

            .slds-text-title_bold {
                font-size: .875rem;
                font-weight: 700 !important;
            }

            .slds-border-right{
                border-right: 1px solid #dddbda;
            }

            .vertical-title{
                font-size:small;
                justify-content: flex-start !important;
            }
            .min-height-400{
                min-height: 400px;
            }

            .min-height-200{
                min-height: 200px;
            }

            .min-width-300{
                min-width: 300px;
            }

            .min-width-150{
                min-width: 150px;
            }

            .slds-width-150{
                width: 150px;
            }

            .slds-full-width{
                width: 100%;
            }

            .tab-visible{
                visibility: visible;
            }

            .tab-hide{
                visibility: hidden;
                height: 0;
            }
            code-analyzer .slds-vertical-tabs{
                display : -webkit-box !important;
            }

            /** Static Mode **/
            .full-page{
                height:100%;
                display: flex;
                flex-direction: column;
            }

            .full-page-connected{
                /*height:calc(97vh - 90px);*/
            }

            .full-page-header{

            }

            .full-page-body{
                /*height: calc(100% - 120px);*/
                position: relative;
                flex-grow: 1;
                overflow: auto;
            }

            .full-page-body-builder{
                height: calc(100% - 2rem);
                position: relative;
            }

            .full-page-body > .slds-card__body{
                height: calc(100% - 2rem);
            }

            .slds-flex-column{
                display: flex;
                flex-direction: column;
            }

            .slds-flex-row{
                display: flex;
                flex-direction: row;
            }

            .slds-align-items_center{
                align-items: center; 
            }
            
            .slds-justify-content-flew-end{
                justify-content: flex-end;
            }

            .slds-justify-content-space-between{
                justify-content: space-between;
            }

            .slds-full-height{
                height:100%;
            }

            .slds-auto-height{
                height:auto;
            }

            .slds-overflow-hidden{
                overflow: hidden;
            }

            .slds-full-height.slds-grid .slds-col {
                height:100%;
                display: flex;
                flex-direction: column;
            }

            /*
            .slds-full-height .slds-tabs_scoped{
                height:calc(100% - 41px);
                display: flex;
                flex-direction: column;
            }
            */
            .slds-full-height lightning-tabset > div {
                height:100%;
                display: flex;
                flex-direction: column;
            }

            .slds-padding-top-200{
                padding-top: 200px;
            }

            .slds-no-padding{
                padding: unset !important;
            }

            .slds-dark-bg{
                /*background-color: #292524;*/
            }

            .slds-light-bg{
                background-color: white;
            }

            /** Footer **/
            .custom-utility-bar{
                background-color: #032d60;
                height: 1.5rem !important;
                color: white;
            }
            
            .custom-utility-bar .custom-utility-text{
                margin-left: 8px;
                font-weight: 400;
            }
            
            .custom-utility-text-copy{
                --slds-c-icon-color-foreground	:rgba(255, 255, 255, 1);
                margin-left: 8px;
                cursor: pointer;
            }

            .menu-header .slds-nav-vertical__title:empty{
                padding:0px;
            }

            .menu-header lightning-vertical-navigation-item .slds-nav-vertical__action {
                padding-left: 3.5rem;
            }
            .slds-without-tab lightning-tab{
                display:none;
            }

            .slds-without-tab .slds-tabs_scoped__item {
                margin-bottom: unset;
            }

            .slds-menu-collapsed lightning-vertical-navigation-section .slds-nav-vertical__title{
                padding-left:0.2rem;
            }
            .slds-menu-collapsed lightning-vertical-navigation-section .slds-nav-vertical__action{
                padding-left:unset;
                padding-right:unset;
            }
            .slds-menu-collapsed lightning-vertical-navigation-item-icon .slds-nav-vertical__action lightning-icon{
                padding-left:0.8rem;
            }

            .slds-fill-height{
                /*height: calc(100% - 120px);*/
                position: relative;
                flex-grow: 1;
                overflow: auto;
            }

            .slds-checkbox-flex .slds-form-element__control{
                display:flex;
                flex-wrap:wrap;
            }

            /** Modal no scroll **/
            .body-full-height .slds-modal__content{
                overflow: hidden;
                height: 100%;
            }

            /** Quick links */
            .slds-card__header-with-quick-links{
                padding-bottom: 0px; /* Related to quick links */
            }
            .slds-quick-links{
                display: flex;
                flex-direction: row;
                align-content: center;
                justify-content: flex-end;
                align-items: center;
            }

            /** Modal Full */
            
        </style>
        <script type="module">
            import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
            window.mermaid = mermaid;
        </script>
        <script type="module">
            import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
            window.mermaid = mermaid;
        </script>
        <script src="$libsDir/prism/prism.js"></script>
        <script src="$libsDir/jsforce/jsforce.js"></script>
        <script src="$libsDir/localforage/localforage.min.js"></script>
        <script>
            let host = window.location.origin;
            fetch(`${host}/config`)
            .then(response => response.json())
            .then(config => {
                window.jsforceSettings = {
                    clientId:  config.clientId,
                    chromeId: config.chromeId,
                    redirectUri: `${host}/oauth2/callback`,
                    proxyUrl: `${host}/proxy/`,
                };
                //jsforce.browser.init(window.jsforceSettings); // Reset
            })         
            window.jsforce = jsforce;
            window.Prism = Prism;
            

            /** Local Storage Settings **/
            window.defaultStore = localforage.createInstance({name: "defaultStore"});
        </script>
    </head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-J8XPLSRY91"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-J8XPLSRY91');
    </script>
    <body>
        <!-- triple braces prevents HTML escaping -->
        {{{body}}} {{{lwr_resources}}}
    </body>
</html> 