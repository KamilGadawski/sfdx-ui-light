<template>
    <div class="slds-fill-height slds-flex-column" role="tabpanel">
        <div class="slds-grid slds-grid_align-end">
            <div class="slds-col">
                <lightning-button-group class="slds-m-right_medium">
                    <lightning-button-icon
                        icon-name="utility:sort"
                        tooltip="Sort the orders"
                        onclick={handleSortButtonClick}></lightning-button-icon>
                    <lightning-button-icon
                        icon-name={iconPauseButton}
                        tooltip="Play/Pause the stream of messages."
                        variant={iconPauseButtonVariant}
                        onclick={handlePauseButtonClick}></lightning-button-icon>
                    <lightning-button-icon
                        icon-name="utility:delete"
                        tooltip="Empty list of messages."
                        onclick={handleEmptyMessages}></lightning-button-icon>
                </lightning-button-group>
            </div>
        </div>
        <lightning-input
            class="slds-m-around_medium"
            type="search"
            label="Search"
            variant="label-hidden"
            value={filter}
            onchange={handleSearch}></lightning-input>
        <div class="slds-scrollable_y" onscroll={handleScroll}>
            <template lwc:if={isEmpty}>
                <illustration-empty
                    title="No Messages"
                    sub-title="There is no events received"></illustration-empty>
            </template>
            <template for:each={virtualList} for:item="item">
                <platformevent-message
                    selected-item-id={selectedItemId}
                    item={item}
                    key={item.id}></platformevent-message>
            </template>
        </div>
    </div>
</template>
